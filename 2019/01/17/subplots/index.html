<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author" content="Peter Lai"><title>subplots Â· Alohomora</title><meta name="description" content="æœ¬æ–‡å¾ˆçŸ­, åªæ˜¯ä¸ºäº†å¤§å®¶èƒ½å¤Ÿæ›´äº†è§£matplotlibçš„ä½œå›¾æœºåˆ¶.é€‚åˆåˆšåˆšå…¥é—¨çš„æœ‹å‹ä»¬

1. figureå’Œaxes
figureæ˜¯ä½œå›¾çš„ç”»å¸ƒ : matplotlib.figure.Figure
ä½ å¯ä»¥åœ¨figureä¸Šé¢é“ºå±•axes, äº‹å®ä¸Š, ä½ ç”»çš„å›¾å…¶å®éƒ½æ˜¯ç”»åœ¨axesä¸Šçš„ : matplo"><meta name="keywords" content=""><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="short icon" href="/images/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/css/bootstrap.min.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="stylesheet" href="/css/style.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"></head><body><div id="stage" class="container"><div class="row"><div id="side-bar" class="col-sm-3 col-xs-12 side-container invisible"><div class="vertical-text site-title"><h3 tabindex="-1" class="site-title-small"><a href="/" class="a-title">open the door, baby~</a></h3><h1 tabindex="-1" class="site-title-large"><a href="/" class="a-title">Alohomora</a></h1><!--h6(onclick="triggerSiteNav()") Trigger--></div><br class="visible-lg visible-md visible-sm"><div id="site-nav" class="site-title-links"><ul><li><a href="/">Home</a></li><li><a href="/archives">Archive</a></li><li><a href="/tags">Tags</a></li><li class="soc"><a href="https://hoijanlai.github.io/atom.xml" target="_blank" rel="noopener noreferrer"><i class="fa fa-rss">&nbsp;</i></a></li></ul><div class="visible-lg visible-md visible-sm site-nav-footer"><br class="site-nav-footer-br"><footer><p>&copy;&nbsp;2019&nbsp;<a target="_blank" href="https://hoijanlai.github.io" rel="noopener noreferrer">Peter Lai</a></p><p>Theme&nbsp;<a target="_blank" href="https://github.com/SumiMakito/hexo-theme-typography" rel="noopener noreferrer">Typography</a>&nbsp;by&nbsp;<a target="_blank" href="https://www.keep.moe" rel="noopener noreferrer">Makito</a></p><p>Proudly published with&nbsp;<a target="_blank" href="https://hexo.io" rel="noopener noreferrer">Hexo</a></p></footer></div></div></div><div id="main-container" class="col-sm-9 col-xs-12 main-container invisible"><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post-container"><p class="post-title"><a>subplots</a></p><p class="post-meta"><span class="date meta-item">Posted at&nbsp;2019-01-17</span></p><p class="post-abstract"><p>æœ¬æ–‡å¾ˆçŸ­, åªæ˜¯ä¸ºäº†å¤§å®¶èƒ½å¤Ÿæ›´äº†è§£matplotlibçš„ä½œå›¾æœºåˆ¶.<br>é€‚åˆåˆšåˆšå…¥é—¨çš„æœ‹å‹ä»¬</p>
<hr>
<h2 id="1-figureå’Œaxes"><a href="#1-figureå’Œaxes" class="headerlink" title="1. figureå’Œaxes"></a>1. figureå’Œaxes</h2><ul>
<li><strong>figureæ˜¯ä½œå›¾çš„ç”»å¸ƒ</strong> : <a href="https://matplotlib.org/api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure" target="_blank" rel="noopener">matplotlib.figure.Figure</a></li>
<li><strong>ä½ å¯ä»¥åœ¨figureä¸Šé¢é“ºå±•axes, äº‹å®ä¸Š, ä½ ç”»çš„å›¾å…¶å®éƒ½æ˜¯ç”»åœ¨axesä¸Šçš„</strong> : <a href="https://matplotlib.org/api/_as_gen/matplotlib.pyplot.axes.html" target="_blank" rel="noopener">matplotlib.pyplot.axes</a></li>
</ul>
<p>ä»¥ä¸‹å±•ç¤ºä¸€ä¸‹ä¸¤è€…å…³ç³»:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">plt.figure(facecolor=&apos;cyan&apos;);</span><br><span class="line">plt.gcf().subplots(2,2);</span><br></pre></td></tr></table></figure></p>
<p><img src="https://upload-images.jianshu.io/upload_images/2862169-1ff5091295a16a9c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br><em>æ³¨: æ°´è“è‰²å°±æ˜¯figure, å¸¦æ•°å­—æ¡†æ¡†å°±æ˜¯axes</em></p>
<p>æµè§ˆä¸¤è€…çš„api, ä½ ä¼šå‘ç°, figureçš„å¤§éƒ¨åˆ†åŠŸèƒ½, éƒ½æ˜¯å’Œ<strong>æ™®é€šçš„å›¾åƒå±æ€§</strong>ä»¥åŠ<strong>é“ºå±•axes</strong>ç›¸å…³çš„. è€Œè§‚å¯Ÿaxesçš„api, ä½ ä¼šå‘ç°å®ƒæ˜¯ç§‘å­¦ä½œå›¾çš„ä»£ç†, æœ‰æ¡å½¢å›¾, æ•£ç‚¹å›¾, æŠ˜çº¿å›¾ç­‰ç­‰çš„ä¸°å¯Œå¼ºå¤§çš„åŠŸèƒ½, <strong>axeså…¶å®æ˜¯åœ¨ä¸€å¹…ç”»å¸ƒä¸Š, è§„åˆ’å‡ºçš„ä¸€ä¸ªä¸ªç§‘å­¦ä½œå›¾çš„åæ ‡è½´ç³»ç»Ÿ</strong></p>
<hr>
<h2 id="2-å¾ˆå¤šæ•™ç¨‹ä¸­çš„plt-lt-æŸç§å›¾åƒç±»å‹-gt-åšäº†ä»€ä¹ˆ"><a href="#2-å¾ˆå¤šæ•™ç¨‹ä¸­çš„plt-lt-æŸç§å›¾åƒç±»å‹-gt-åšäº†ä»€ä¹ˆ" class="headerlink" title="2. å¾ˆå¤šæ•™ç¨‹ä¸­çš„plt.&lt;æŸç§å›¾åƒç±»å‹&gt;åšäº†ä»€ä¹ˆ"></a>2. å¾ˆå¤šæ•™ç¨‹ä¸­çš„<code>plt.&lt;æŸç§å›¾åƒç±»å‹&gt;</code>åšäº†ä»€ä¹ˆ</h2><p>åˆå­¦ä¹‹æ—¶, æˆ‘ä»¬å¸¸å¸¸ä¼šç”¨, <code>plt.plot()</code>, <code>plt.scatter()</code>, <code>plt.bar()</code>ç­‰ç­‰å‡½æ•°æ¥ç”»å›¾, ä¸è¿‡è¿™äº›å‡½æ•°çš„æœ¬è´¨è¿˜æ˜¯åœ¨axesä¸Šä½œå›¾, å®ƒä»¬åšçš„äº‹æƒ…ä½ å¯ä»¥ç†è§£ä¸º</p>
<ul>
<li>é¦–å…ˆå¾—åˆ°å½“å‰æ´»è·ƒçš„axes, å¦‚æœå½“å‰figureä¸Šè¿˜æ²¡æœ‰axes, å°±å¸®ä½ åˆ›å»ºä¸€ä¸ªaxes, ç„¶åå°†å®ƒè®¾ä¸ºå½“å‰æ´»è·ƒçš„axes</li>
<li>è°ƒç”¨è¿™ä¸ªå½“å‰axesä¸Šçš„å„ä¸ªä½œå›¾åŠŸèƒ½. </li>
</ul>
<p>è¿™é‡Œæœ‰ä¸¤ä¸ªé‡è¦çš„å‡½æ•°:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">plt.gcf() # æ„ä¸º, get current figure</span><br><span class="line">plt.gca() # æ„ä¸º, get current axes</span><br></pre></td></tr></table></figure></p>
<p> æ‰€ä»¥, ä¸€äº›åˆçº§æ•™ç¨‹æ•™çš„<br><code>plt.&lt;blablabla&gt;</code> å…¶å®ç›¸å½“äº<code>plt.gca().&lt;blablabla&gt;</code>, å®ƒä»¬å¾ˆå¿«èƒ½å¤Ÿçœ‹åˆ°æ•ˆæœ, ä½†æ˜¯åˆ°äº†æˆ‘ä»¬éœ€è¦å¤æ‚åœ°é“ºå±•å­å›¾çš„æ—¶å€™, å®ƒä»¬å°±ä¸å¥½ç”¨äº†, ä¸è¿‡ç°åœ¨ç†è§£äº†<code>axes</code>å…¶å®æ˜¯ä½œå›¾çš„åŸºæœ¬ä»£ç†ä¹‹å, æˆ‘ä»¬å°±èƒ½å¯¹æ•´ä»¶äº‹æœ‰æ›´å¤šæŠŠæ¡äº†.</p>
<hr>
<h2 id="3-åœ¨figureä¸Šè‡ªç”±åœ°é“ºå±•axeså¹¶è·å–å®ƒä»¬"><a href="#3-åœ¨figureä¸Šè‡ªç”±åœ°é“ºå±•axeså¹¶è·å–å®ƒä»¬" class="headerlink" title="3. åœ¨figureä¸Šè‡ªç”±åœ°é“ºå±•axeså¹¶è·å–å®ƒä»¬!"></a>3. åœ¨figureä¸Šè‡ªç”±åœ°é“ºå±•axeså¹¶è·å–å®ƒä»¬!</h2><p>é¦–å…ˆ, æˆ‘é€ ä¸€äº›ç©å…·æ•°æ®<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">foo = [&apos;a&apos;,&apos;b&apos;,&apos;c&apos;]</span><br><span class="line">bar = [1,2,3]</span><br></pre></td></tr></table></figure></p>
<h6 id="ç¬¬ä¸€æ‹›"><a href="#ç¬¬ä¸€æ‹›" class="headerlink" title="ç¬¬ä¸€æ‹›:"></a>ç¬¬ä¸€æ‹›:</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">_, axes = plt.subplots(2,2, figsize=(6, 6)) # ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯åˆ›å»ºçš„figure</span><br><span class="line">axes[0][0].bar(foo, bar);</span><br><span class="line">axes[0][1].scatter(bar, bar);</span><br><span class="line">axes[1][0].plot(bar, bar);</span><br><span class="line">axes[1][1].pie(bar);</span><br></pre></td></tr></table></figure>
<p><img src="https://upload-images.jianshu.io/upload_images/2862169-d481cfa51ecf2129.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p><code>plt.subplots(2,2, figsize=(6, 6))</code>ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„figure, ç„¶ååœ¨è¿™ä¸ªfigureä¸Šé¢é“ºå±•2x2ä¸€å…±4ä¸ªaxes, ç„¶åè¿”å›figureä»¥åŠaxes, è¿™äº›axesèƒ½å¤Ÿç›´æ¥é€šè¿‡ç´¢å¼•è·å–, æ‰€ä»¥ä½ å¯ä»¥è½»æ˜“åœ°å°†å®ƒå†™åˆ°å¾ªç¯ä¸­:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">_, axes = plt.subplots(2,2, figsize=(6, 6))</span><br><span class="line">colors = [&apos;r&apos;, &apos;g&apos;, &apos;b&apos;, &apos;k&apos;]</span><br><span class="line">for ax, c in zip(axes.flatten(), colors):</span><br><span class="line">    ax.plot(bar, bar, c=c)</span><br></pre></td></tr></table></figure></p>
<p><img src="https://upload-images.jianshu.io/upload_images/2862169-b5efde3267f79142.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>è¿™ä¸€æ‹›æˆ‘è‡ªå·±æœ€å¸¸ç”¨, å­å›¾å¯ä»¥ä½œä¸ºä¸€ä¸ªæ–°çš„ç»´åº¦å­˜åœ¨, ç”¨æ¥ç»„ç»‡æ•°æ®ä¸­å–å€¼èŒƒå›´æ¯”è¾ƒå°‘çš„ç¦»æ•£ç»´åº¦, æ¯”å¦‚ç¤¼æ‹œå‡ è¿™ç±»</p>
<h6 id="ç¬¬äºŒæ‹›"><a href="#ç¬¬äºŒæ‹›" class="headerlink" title="ç¬¬äºŒæ‹›"></a>ç¬¬äºŒæ‹›</h6><p>è¿™æ‹›å°±å®šåˆ¶åŒ–æ¯”è¾ƒé«˜äº†, æˆ‘è‡ªå·±ç”¨å¾—æ¯”è¾ƒå°‘, å…·ä½“æ¥è¯´, å®ƒå¯ä»¥åšå‡ºè¿™æ ·çš„å¸ƒå±€</p>
<p><img src="https://upload-images.jianshu.io/upload_images/2862169-06811b89254c7d2c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>å®ƒçš„ä»£ç å¦‚ä¸‹:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">plt.subplot(3,1,1)</span><br><span class="line">plt.subplot(3,3,4)</span><br><span class="line">plt.subplot(3,3,5)</span><br><span class="line">plt.subplot(3,3,6)</span><br><span class="line">plt.subplot(3,1,3)</span><br></pre></td></tr></table></figure></p>
<p>æ ¼å¼ä¸º<code>plt.subplot(&lt;è¡Œæ•°&gt;, &lt;åˆ—æ•°&gt;, &lt;åºå·&gt;)</code>, ä»¥ä¸Šä»£ç åˆ›å»ºäº†ä¸€ä¸ª3x3çš„å¸ƒå±€, 3x3çš„å¸ƒå±€æ˜¯èƒ½å¤Ÿå’Œ3x1çš„å¸ƒå±€è€¦åˆçš„, åªè¦å°†3x3çš„ç¬¬ä¸€è¡Œçš„ä¸‰ä¸ªå­å›¾åˆæˆä¸€ä¸ªé•¿æ¡å°±OK. å¯¹åº”çš„ä»£ç å°±æ˜¯<code>plt.subplot(3,1,1)</code>å’Œ<code>plt.subplot(3,1,3)</code></p>
<p>å®ƒä»¬éƒ½æ˜¯è¿”å›axesçš„, æ‰€ä»¥ä½ å¯ä»¥<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ax1 = plt.subplot(3,1,1)</span><br><span class="line">ax1.plot(bar, bar)</span><br></pre></td></tr></table></figure></p>
<p>ä¸è¿‡, æ¯æ¬¡è°ƒç”¨å®Œ<code>plt.subplot(...)</code>ä¹‹å, æ–°äº§ç”Ÿçš„axesä¼šå˜æˆå½“å‰axes, å› æ­¤å¯ä»¥:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">plt.subplot(3,1,1)</span><br><span class="line">plt.plot(bar, bar)</span><br><span class="line">plt.subplot(3,3,4)</span><br><span class="line">plt.plot(bar, bar)</span><br><span class="line">...</span><br></pre></td></tr></table></figure></p>
<h6 id="ç¬¬ä¸‰æ‹›"><a href="#ç¬¬ä¸‰æ‹›" class="headerlink" title="ç¬¬ä¸‰æ‹›!"></a>ç¬¬ä¸‰æ‹›!</h6><p>è¿˜æ˜¯ä¸€æ ·, é“ºå±•axes, ç„¶åè·å–è¿™äº›axesä½œå›¾, è¿™æ¬¡ä½ å¯ä»¥åšå‡ºè¿™æ ·çš„:<br><img src="https://upload-images.jianshu.io/upload_images/2862169-882d57935b26c0cb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>æ€ä¹ˆåšçš„å‘¢? ç»è¿‡ä¸Šé¢çš„ä½œå›¾åŸç†ä»‹ç», è¿™ä¸€æ¬¡, matplotlibçš„æ–‡æ¡£ä½ åº”è¯¥èƒ½ç›´æ¥çœ‹æ˜ç™½äº†, ç›´æ¥ä¼ é€:<br><a href="https://matplotlib.org/users/gridspec.html" target="_blank" rel="noopener">https://matplotlib.org/users/gridspec.html</a></p>
<hr>
<h2 id="4-ä¸ºä»€ä¹ˆæˆ‘è¦å…³æ³¨axes"><a href="#4-ä¸ºä»€ä¹ˆæˆ‘è¦å…³æ³¨axes" class="headerlink" title="4. ä¸ºä»€ä¹ˆæˆ‘è¦å…³æ³¨axes?"></a>4. ä¸ºä»€ä¹ˆæˆ‘è¦å…³æ³¨axes?</h2><p>axesèƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬å®ç°å®šç‚¹ä½œå›¾, ä¸€äº›éå¸¸å—æ¬¢è¿çš„åº“, æ¯”å¦‚pandaså’Œseaborn, å®ƒä»¬å¤§éƒ¨åˆ†çš„ä½œå›¾å‡½æ•°éƒ½æœ‰ä¸€ä¸ªå«<code>ax</code>çš„å‚æ•°, ç”¨æ¥æ§åˆ¶å›¾æœ€ç»ˆå‡ºç°åœ¨å“ªä¸ªaxesä¸Š. æ¯«ä¸å¤¸å¼ åœ°è¯´, æˆ‘ä¸ªäººå¯¹äºmatplotlibçš„æ“æ§æ„Ÿå°±æ˜¯ä»äº†è§£äº†è¿™ä¸ªåŸºæœ¬çš„ä½œå›¾æœºåˆ¶å¼€å§‹çš„ğŸ˜</p>
<hr>
<h2 id="5-æ€»ç»“"><a href="#5-æ€»ç»“" class="headerlink" title="5. æ€»ç»“"></a>5. æ€»ç»“</h2><p>å¦‚æœä½ </p>
<ul>
<li>æ˜ç™½äº†matplotlibçš„ä½œå›¾æœºåˆ¶</li>
<li>æ˜ç™½äº†é“ºå±•axeså¹¶å®šä½åˆ°æ¯ä¸ªaxesè¿›è¡Œä½œå›¾çš„æ–¹æ³•</li>
<li>æƒ³è¦å›å»è‡ªå·±å°è¯•<br>å°±ç»™æˆ‘ä¸ªâ¤ï¸å§, å“ˆå“ˆå“ˆ~</li>
</ul>
</p></div><div class="share"><span>Share</span>&nbsp;<span class="soc"><a href="javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var%20x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new%20Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title);}})();" ref="nofollow" target="_blank" class="fa fa-bookmark"></a></span><span class="soc"><a href="javascript:void((function(s,d,e){try{}catch(e){}var f='http://service.weibo.com/share/share.php?',u=d.location.href,p=['url=',e(u),'&amp;title=',e(d.title),'&amp;appkey=2924220432'].join('');function a(){if(!window.open([f,p].join(''),'mb',['toolbar=0,status=0,resizable=1,width=620,height=450,left=',(s.width-620)/2,',top=',(s.height-450)/2].join('')))u.href=[f,p].join('');};if(/Firefox/.test(navigator.userAgent)){setTimeout(a,0)}else{a()}})(screen,document,encodeURIComponent));" class="fa fa-weibo"></a></span><span class="soc"><a href="http://twitter.com/home?status=https://hoijanlai.github.io/2019/01/17/subplots/%20Alohomora%20subplots" class="fa fa-twitter"></a></span></div><div class="pagination"><p class="clearfix"><span>&nbsp;</span><span class="next pagbuttons"><a role="navigation" href="/2018/05/04/Boxcox Transformation/" title="Boxcox Transformation">Next post: Boxcox Transformation&nbsp;<i class="fa fa-angle-double-right"></i></a></span></p></div></div></div></div><div class="visible-xs site-bottom-footer"><footer><p>&copy;&nbsp;2019&nbsp;<a target="_blank" href="https://hoijanlai.github.io" rel="noopener noreferrer">Peter Lai</a></p><p>Theme&nbsp;<a target="_blank" href="https://github.com/SumiMakito/hexo-theme-typography" rel="noopener noreferrer">Typography</a>&nbsp;by&nbsp;<a target="_blank" href="https://www.keep.moe" rel="noopener noreferrer">Makito</a></p><p>Proudly published with&nbsp;<a target="_blank" href="https://hexo.io" rel="noopener noreferrer">Hexo</a></p></footer></div></div></div></div><script src="/js/jquery-3.1.0.min.js"></script><script src="/js/bootstrap.min.js"></script><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script><script src="/js/google-analytics.js"></script><script src="/js/typography.js"></script></body></html>